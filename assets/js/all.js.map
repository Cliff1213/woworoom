{"version":3,"sources":["all.js","c3.js","swiper.js"],"names":["console","clear","url","path","token","cartProducts","getData","axios","headers","then","res","render","data","products","err","log","message","productList","document","querySelector","renderStr","forEach","i","id","imgUrl","title","originPrice","toString","replace","price","innerHTML","filterProducts","event","selectValue","target","value","filterList","renderData","filter","getCartsList","carts","renderCart","addCart","preventDefault","addProductId","dataset","accumulateQuantity","method","alert","cartDataList","priceSwitch","quantity","accumulatePrice","priceGroup","map","product","totalPrice","reduce","acc","cur","textContent","deleteAllProducts","response","deleteProduct","deleteProductId","orderForm","sendOrder","length","formValidation","undefined","orderName","orderTel","orderEmail","orderAddress","orderPayment","reset","constraints","presence","format","pattern","inputList","querySelectorAll","idList","push","getAttribute","errorMessage","validate","domId","nextElementSibling","Object","entries","getOrders","renderChart","orders","renderTable","newData","order","chartData","settingChart","manageList","str","timeStamp","Date","createDate","getFullYear","getMonth","getDate","orderProducts","item","join","orderStatus","chart","c3","generate","bindto","columns","type","switchStatus","orderId","status","deleteOrder","deleteId","deleteAllOrders","swiper","Swiper","spaceBetween","breakpoints","slidesPerView"],"mappings":"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","file":"all.js","sourcesContent":["console.clear()\n\nconst url = 'https://livejs-api.hexschool.io/api/livejs/v1';\nconst path = 'cliff2022';\nlet token = '5bBQ25vhH9fZiZP8Ykd3xHgoCZu2';\n\nlet cartProducts;\n\n// 所有產品資料取得\nconst getData = () => {\n  axios({\n    url: `${url}/customer/${path}/products`,\n    headers: {\n      'Authorization': token\n    }\n  })\n    .then(res => {\n      render(res.data.products)\n    })\n    .catch(err => console.log(err.message))\n}\ngetData()\n\n// 首頁產品列表渲染\nconst render = (data) => {\n  const productList = document.querySelector('#productList');\n  let renderStr = '';\n  \n  data.forEach(i => {\n    const id = i['id'],\n          imgUrl = i['images'],\n          title = i['title'],\n          originPrice = i['origin_price'].toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\"),\n          price = i['price'].toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n\n    renderStr += `\n    <li class=\"col-md-6 col-lg-3 mb-7\">\n        <div class=\"product-card position-relative\">\n          <div class=\"product-img\">\n            <img src=\"${imgUrl}\" class=\"w-100\" alt=\"img_product\">\n          </div>\n          <a href=\"#\" class=\"product-btn text-light bg-dark d-block py-3 text-center\" data-id=\"${id}\" onclick=\"addCart(event)\">加入購物車</a>\n          <h4 class=\"mt-2\">${title}</h4>\n          <p class=\"text-decoration-line-through\">${originPrice}</p>\n          <p class=\"fs-2\">${price}</p>\n          <p class=\"card-decoration position-absolute top-0 end-0 text-light bg-dark py-2 px-6\">新品</p>\n        </div>\n      </li>`\n  })\n\n  productList.innerHTML = renderStr;\n}\n\n// 首頁產品篩選\nconst filterProducts = (event) => {\n  const selectValue = event.target.value;\n  const filterList = renderData.filter(i => selectValue === i['category'] || selectValue === \"全部\");\n  \n  render(filterList)\n}\n\n// 使用者購物車資料取得\nconst getCartsList = () => {\n  axios({\n    url: `${url}/customer/${path}/carts`,\n    headers: {\n      'Authorization': token\n    }\n  })\n  .then(res => {\n    cartProducts = res.data.carts; // 避免後續重新請求\n    renderCart(res.data.carts)\n  })\n  .catch(err => console.log(err.message))\n}\ngetCartsList()\n\n\n// 加入購物車\nconst addCart = (event) => {\n  event.preventDefault();\n\n  const addProductId = event.target.dataset.id;\n\n  let accumulateQuantity = 1;\n\n  cartProducts.forEach(i => {\n    i['product']['id'] === addProductId? accumulateQuantity += i['quantity']: accumulateQuantity += 0;\n  })\n\n  axios({\n    url: `${url}/customer/${path}/carts`,\n    method: 'post',\n    headers: {\n      'Authorization': token\n    },\n    data: {\n      \"data\": {\n        \"productId\": `${addProductId}`,\n        \"quantity\": accumulateQuantity\n      }\n    }\n  })\n    .then(res => {\n      alert('成功加入購物車')\n      renderCart(res.data.carts)\n    })\n    .catch(err => console.log(err.message))\n}\n\n\n// 首頁購物車列表渲染\nconst renderCart = (data) => {\n  const cartDataList = document.querySelector('#cartDataList');\n  let renderStr = '';\n\n  data.forEach(i => {\n\n    const id = i['id'],\n          imgUrl = i['product']['images'],\n          title = i['product']['title'],\n          price = i['product']['price'],\n          priceSwitch = price.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\"),\n          quantity = i['quantity'],\n          accumulatePrice = (price * quantity).toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n\n    renderStr += `\n    <tr class=\"border-bottom\">\n      <th scope=\"row\">\n        <div class=\"d-flex align-items-center\">\n          <img src=\"${imgUrl}\" class=\"me-4 d-none d-lg-block\" alt=\"img_cart\" width=\"80px\" height=\"80px\">\n          <p>${title}</p>\n        </div>\n      </th>\n      <td>${priceSwitch}</td>\n      <td>${quantity}</td>\n      <td>${accumulatePrice}</td>\n      <td class=\"text-center\">\n        <a href=\"#\" class=\"material-icons\" data-id=\"${id}\" onclick=\"deleteProduct(event)\">clear</a>\n      </td>\n    </tr>`\n  })\n  cartDataList.innerHTML = renderStr;\n\n  const priceGroup = data.map(i => i.product.price);\n  const totalPrice = priceGroup.reduce((acc, cur) => acc + cur, 0).toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n\n  document.querySelector('#totalPrice').textContent = `$NT ${totalPrice}`;\n\n  // console.log(data)\n  cartProducts = data;\n}\n\n// 刪除購物車所有品項\nconst deleteAllProducts = () => {\n  axios({\n    url: `${url}/customer/${path}/carts`,\n    method: 'delete',\n    headers: {\n      'Authorization': token\n    }\n  })\n  .then(res => {\n    alert(res.data.message)\n    renderCart(res.data.carts)\n  })\n  .catch(err => alert(err.response.data.message))\n}\n\n// 刪除購物車指定品項\nconst deleteProduct = (event) => {\n  event.preventDefault();\n\n  const deleteProductId = event.target.dataset.id;\n  console.log(deleteProductId)\n  axios({\n    url: `${url}/customer/${path}/carts/${deleteProductId}`,\n    method: 'delete',\n    headers: {\n      'Authorization': token\n    }\n  })\n    .then(res => {\n      alert('已成功刪除該品項')\n      renderCart(res.data.carts)\n    })\n    .catch(err => console.log(err))\n}\n\n// 送出訂單\nconst orderForm = document.querySelector('#orderForm');\n\nconst sendOrder = (event) => {\n  event.preventDefault()\n\n  if(cartProducts.length === 0) {\n    alert('購物車是空的')\n    return;\n  }else if(formValidation() !== undefined) {\n    alert('請填入正確訂單資訊')\n    return;\n  }\n\n  const orderName = document.querySelector('#orderName'),\n        orderTel = document.querySelector('#orderTel'),\n        orderEmail = document.querySelector('#orderEmail'),\n        orderAddress = document.querySelector('#orderAddress'),\n        orderPayment = document.querySelector('#orderPayment');\n\n  axios({\n    url: `${url}/customer/${path}/orders`,\n    method: 'post',\n    headers: {\n      'Authorization': token\n    },\n    data: {\n      \"data\": {\n        \"user\": {\n          \"name\": `${orderName.value}`,\n          \"tel\": `${orderTel.value}`,\n          \"email\": `${orderEmail.value}`,\n          \"address\": `${orderAddress.value}`,\n          \"payment\": `${orderPayment.value}`\n        }\n      }\n    }\n  })\n    .then(res => {\n      alert('訂單已送出')\n      cartProducts = [] // 送出訂單後清空購物車並再次渲染\n      renderCart(cartProducts)\n      orderForm.reset();\n    })\n    .catch(err => console.log(err))\n}\n\n\n// 表單驗證\nconst formValidation = () => {\n  const constraints = {\n    orderName: {\n      presence: {\n        message: '欄位必填'\n      }\n    },\n    orderTel: {\n      presence: {\n        message: '欄位必填'\n      },\n      format: {\n        pattern: /^[0-9]+$/,\n        message: '只能是數字 0-9'\n      }\n    },\n    orderEmail: {\n      presence: {\n        message: '此欄位必填'\n      },\n      format: {\n        pattern: /^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/,\n        message: 'Email 格式錯誤'\n      }\n    },\n    orderAddress: {\n      presence: {\n        message: '此欄位必填'\n      }\n    }\n  }\n\n  const inputList = document.querySelectorAll('#orderForm input[type=text]');\n\n  const idList = [];\n  inputList.forEach(i => idList.push(i.getAttribute('id')))\n  \n  const errorMessage = validate(orderForm, constraints)\n\n  idList.forEach(domId => {\n    document.querySelector(`#${domId}`).nextElementSibling.textContent = null;\n    // console.log(errorMessage)\n\n    // ! Object.entries/key/value 踩雷：（如果結果為 undefined、null，皆會回傳錯誤，解決方法可加入 {} 與原物件做比較，避免最終結果為空）\n    Object.entries(errorMessage || {}).forEach(i => {\n      if(domId === i[0]) {\n        document.querySelector(`#${domId}`).nextElementSibling.textContent = i[1];\n      }\n    })\n  })\n  return errorMessage;\n}","// 訂單取得\r\nconst getOrders = () => {\r\n\r\n  axios({\r\n    url: `${url}/admin/${path}/orders`,\r\n    headers: {\r\n      'Authorization': token\r\n    }\r\n  })\r\n    .then(res => {\r\n      renderChart(res.data.orders)\r\n      renderTable(res.data.orders)\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\ngetOrders()\r\n\r\n// 圖表渲染\r\nconst renderChart = (data) => {\r\n  const newData = {}\r\n\r\n  data.forEach(order => {\r\n    order.products.forEach(product => {\r\n\r\n      if(!newData[product['title']]) {\r\n        newData[product['title']] = product['quantity'];\r\n      }else {\r\n        newData[product['title']] += product['quantity'];\r\n      }\r\n    })\r\n  })\r\n\r\n  const chartData = Object.entries(newData)\r\n  settingChart(chartData)\r\n}\r\n\r\n// 表格渲染\r\nconst renderTable = (data) => {\r\n  const manageList = document.querySelector('#manageList');\r\n  let str = '';\r\n\r\n  data.forEach(i => {\r\n\r\n    const timeStamp = new Date(i['createdAt'] * 1000);\r\n    const createDate = `${timeStamp.getFullYear()}/${timeStamp.getMonth() + 1}/${timeStamp.getDate()}`;\r\n    const orderProducts = i['products'].map(item => `<p>${item['title']} x ${item['quantity']}</p>`).join(\"\");\r\n\r\n    let orderStatus = '';\r\n    if(!i['paid']) {\r\n      orderStatus = '未處理';\r\n    }else {\r\n      orderStatus = '已處理';\r\n    }\r\n\r\n    str += `\r\n    <tr>\r\n      <td>${i['id']}</td>\r\n      <td>${i['user']['name']}<br>${i['user']['tel']}</td>\r\n      <td>${i['user']['address']}</td>\r\n      <td>${i['user']['email']}</td>\r\n      <td>${orderProducts}</td>\r\n      <td>${createDate}</td>\r\n      <td class=\"text-center\">\r\n        <a href=\"#\" class=\"text-decoration-underline text-primary\" data-id=\"${i['id']}\" data-status=\"${i['paid']}\" onclick=\"switchStatus(event)\">${orderStatus}</a>\r\n      </td>\r\n      <td class=\"text-center\">\r\n        <a href=\"#\" class=\"btn btn-danger\" data-id=\"${i['id']}\" onclick=\"deleteOrder(event)\">刪除</a>\r\n      </td>\r\n    </tr>`\r\n  })\r\n  manageList.innerHTML = str;\r\n}\r\n\r\n// 圖表設定\r\nconst settingChart = (data) => {\r\n  const chart = c3.generate({\r\n    bindto: '#chart',\r\n    data: {\r\n      columns: data,\r\n      type: 'pie',\r\n    }\r\n  })\r\n}\r\n\r\n// 狀態切換\r\nconst switchStatus = (event) => {\r\n  event.preventDefault();\r\n\r\n  const orderId = event.target.dataset.id;\r\n  const orderStatus = event.target.dataset.status;\r\n\r\n  if(orderStatus === 'false') {\r\n    axios({\r\n      url: `${url}/admin/${path}/orders`,\r\n      method: 'put',\r\n      headers: {\r\n        'Authorization': token\r\n      },\r\n      data: {\r\n        \"data\": {\r\n          \"id\": orderId,\r\n          \"paid\": true\r\n        }\r\n      }\r\n    })\r\n      .then(res => {\r\n        renderChart(res.data.orders)\r\n        renderTable(res.data.orders)\r\n      })\r\n      .catch(err => console.log(err))\r\n  } else {\r\n    axios({\r\n      url: `${url}/admin/${path}/orders`,\r\n      method: 'put',\r\n      headers: {\r\n        'Authorization': token\r\n      },\r\n      data: {\r\n        \"data\": {\r\n          \"id\": orderId,\r\n          \"paid\": false\r\n        }\r\n      }\r\n    })\r\n      .then(res => {\r\n        renderChart(res.data.orders)\r\n        renderTable(res.data.orders)\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\n// 刪除指定訂單\r\nconst deleteOrder = (event) => {\r\n  event.preventDefault();\r\n\r\n  const deleteId = event.target.dataset.id;\r\n\r\n  axios({\r\n    url: `${url}/admin/${path}/orders/${deleteId}`,\r\n    method: 'delete',\r\n    headers: {\r\n      'Authorization': token\r\n    }\r\n  })\r\n    .then(res => {\r\n      alert('已刪除該筆訂單')\r\n      renderChart(res.data.orders)\r\n      renderTable(res.data.orders)\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n// 清除全部訂單\r\nconst deleteAllOrders = (event) => {\r\n  event.preventDefault()\r\n\r\n  axios({\r\n    url: `${url}/admin/${path}/orders`,\r\n    method: 'delete',\r\n    headers: {\r\n      'Authorization': token\r\n    }\r\n  })\r\n    .then(res => {\r\n      alert(res.data.message)\r\n      renderChart(res.data.orders)\r\n      renderTable(res.data.orders)\r\n    })\r\n    .catch(err => console.log(err))\r\n}","const swiper = new Swiper(\".mySwiper\", {\r\n  spaceBetween: 30,\r\n  breakpoints: {\r\n    768: {\r\n      slidesPerView: 2\r\n    },\r\n    1200: {\r\n      slidesPerView: 3\r\n    },\r\n  }\r\n});"]}