{"version":3,"sources":["all.js","c3.js","swiper.js"],"names":["console","clear","url","path","token","renderData","cartProducts","getData","axios","headers","then","res","data","products","render","err","log","message","productList","document","querySelector","renderStr","forEach","i","id","imgUrl","title","originPrice","toString","replace","price","innerHTML","filterProducts","event","selectValue","target","value","filterList","filter","getCartsList","carts","renderCart","addCart","preventDefault","addProductId","dataset","accumulateQuantity","method","alert","cartDataList","priceSwitch","quantity","accumulatePrice","priceGroup","map","product","totalPrice","reduce","acc","cur","textContent","deleteAllProducts","response","deleteProduct","deleteProductId","orderForm","sendOrder","length","formValidation","undefined","orderName","orderTel","orderEmail","orderAddress","orderPayment","reset","constraints","presence","format","pattern","inputList","querySelectorAll","idList","push","getAttribute","errorMessage","validate","domId","nextElementSibling","Object","entries","getOrders","renderChart","orders","renderTable","newData","order","chartData","settingChart","manageList","str","timeStamp","Date","createDate","getFullYear","getMonth","getDate","orderProducts","item","join","orderStatus","chart","c3","generate","bindto","columns","type","switchStatus","orderId","status","deleteOrder","deleteId","deleteAllOrders","swiper","Swiper","spaceBetween","breakpoints","slidesPerView"],"mappings":"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","file":"all.js","sourcesContent":["console.clear()\n\nconst url = 'https://livejs-api.hexschool.io/api/livejs/v1';\nconst path = 'cliff2022';\nlet token = '5bBQ25vhH9fZiZP8Ykd3xHgoCZu2';\n\nlet renderData;\nlet cartProducts;\n\n// 所有產品資料取得\nconst getData = () => {\n  axios({\n    url: `${url}/customer/${path}/products`,\n    headers: {\n      'Authorization': token\n    }\n  })\n    .then(res => {\n      renderData = res.data.products;\n      render(res.data.products)\n    })\n    .catch(err => console.log(err.message))\n}\ngetData()\n\n// 首頁產品列表渲染\nconst render = (data) => {\n  const productList = document.querySelector('#productList');\n  let renderStr = '';\n  \n  data.forEach(i => {\n    const id = i['id'],\n          imgUrl = i['images'],\n          title = i['title'],\n          originPrice = i['origin_price'].toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\"),\n          price = i['price'].toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n\n    renderStr += `\n    <li class=\"col-md-6 col-lg-3 mb-7\">\n        <div class=\"product-card position-relative\">\n          <div class=\"product-img\">\n            <img src=\"${imgUrl}\" class=\"w-100\" alt=\"img_product\">\n          </div>\n          <a href=\"#\" class=\"product-btn text-light bg-dark d-block py-3 text-center\" data-id=\"${id}\" onclick=\"addCart(event)\">加入購物車</a>\n          <h4 class=\"mt-2\">${title}</h4>\n          <p class=\"text-decoration-line-through\">${originPrice}</p>\n          <p class=\"fs-2\">${price}</p>\n          <p class=\"card-decoration position-absolute top-0 end-0 text-light bg-dark py-2 px-6\">新品</p>\n        </div>\n      </li>`\n  })\n\n  productList.innerHTML = renderStr;\n}\n\n// 首頁產品篩選\nconst filterProducts = (event) => {\n  const selectValue = event.target.value;\n  const filterList = renderData.filter(i => selectValue === i['category'] || selectValue === \"全部\");\n  \n  render(filterList)\n}\n\n// 使用者購物車資料取得\nconst getCartsList = () => {\n  axios({\n    url: `${url}/customer/${path}/carts`,\n    headers: {\n      'Authorization': token\n    }\n  })\n  .then(res => {\n    cartProducts = res.data.carts; // 避免後續重新請求\n    renderCart(res.data.carts)\n  })\n  .catch(err => console.log(err.message))\n}\ngetCartsList()\n\n\n// 加入購物車\nconst addCart = (event) => {\n  event.preventDefault();\n\n  const addProductId = event.target.dataset.id;\n\n  let accumulateQuantity = 1;\n\n  cartProducts.forEach(i => {\n    i['product']['id'] === addProductId? accumulateQuantity += i['quantity']: accumulateQuantity += 0;\n  })\n\n  axios({\n    url: `${url}/customer/${path}/carts`,\n    method: 'post',\n    headers: {\n      'Authorization': token\n    },\n    data: {\n      \"data\": {\n        \"productId\": `${addProductId}`,\n        \"quantity\": accumulateQuantity\n      }\n    }\n  })\n    .then(res => {\n      alert('成功加入購物車')\n      renderCart(res.data.carts)\n    })\n    .catch(err => console.log(err.message))\n}\n\n\n// 首頁購物車列表渲染\nconst renderCart = (data) => {\n  const cartDataList = document.querySelector('#cartDataList');\n  let renderStr = '';\n\n  data.forEach(i => {\n\n    const id = i['id'],\n          imgUrl = i['product']['images'],\n          title = i['product']['title'],\n          price = i['product']['price'],\n          priceSwitch = price.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\"),\n          quantity = i['quantity'],\n          accumulatePrice = (price * quantity).toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n\n\n    renderStr += `\n    <tr class=\"border-bottom\">\n      <th scope=\"row\">\n        <div class=\"d-flex align-items-center\">\n          <img src=\"${imgUrl}\" class=\"me-4 d-none d-lg-block\" alt=\"img_cart\" width=\"80px\" height=\"80px\">\n          <p>${title}</p>\n        </div>\n      </th>\n      <td>${priceSwitch}</td>\n      <td>${quantity}</td>\n      <td>${accumulatePrice}</td>\n      <td class=\"text-center\">\n        <a href=\"#\" class=\"material-icons\" data-id=\"${id}\" onclick=\"deleteProduct(event)\">clear</a>\n      </td>\n    </tr>`\n  })\n  cartDataList.innerHTML = renderStr;\n\n  console.log(data)\n  const priceGroup = data.map(i => i.product.price * i.quantity);\n  \n  const totalPrice = priceGroup.reduce((acc, cur) => acc + cur, 0).toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n\n  document.querySelector('#totalPrice').textContent = `$NT ${totalPrice}`;\n\n  // console.log(data)\n  cartProducts = data;\n}\n\n// 刪除購物車所有品項\nconst deleteAllProducts = () => {\n  axios({\n    url: `${url}/customer/${path}/carts`,\n    method: 'delete',\n    headers: {\n      'Authorization': token\n    }\n  })\n  .then(res => {\n    alert(res.data.message)\n    renderCart(res.data.carts)\n  })\n  .catch(err => alert(err.response.data.message))\n}\n\n// 刪除購物車指定品項\nconst deleteProduct = (event) => {\n  event.preventDefault();\n\n  const deleteProductId = event.target.dataset.id;\n  console.log(deleteProductId)\n  axios({\n    url: `${url}/customer/${path}/carts/${deleteProductId}`,\n    method: 'delete',\n    headers: {\n      'Authorization': token\n    }\n  })\n    .then(res => {\n      alert('已成功刪除該品項')\n      renderCart(res.data.carts)\n    })\n    .catch(err => console.log(err))\n}\n\n// 送出訂單\nconst orderForm = document.querySelector('#orderForm');\n\nconst sendOrder = (event) => {\n  event.preventDefault()\n\n  if(cartProducts.length === 0) {\n    alert('購物車是空的')\n    return;\n  }else if(formValidation() !== undefined) {\n    alert('請填入正確訂單資訊')\n    return;\n  }\n\n  const orderName = document.querySelector('#orderName'),\n        orderTel = document.querySelector('#orderTel'),\n        orderEmail = document.querySelector('#orderEmail'),\n        orderAddress = document.querySelector('#orderAddress'),\n        orderPayment = document.querySelector('#orderPayment');\n\n  axios({\n    url: `${url}/customer/${path}/orders`,\n    method: 'post',\n    headers: {\n      'Authorization': token\n    },\n    data: {\n      \"data\": {\n        \"user\": {\n          \"name\": `${orderName.value}`,\n          \"tel\": `${orderTel.value}`,\n          \"email\": `${orderEmail.value}`,\n          \"address\": `${orderAddress.value}`,\n          \"payment\": `${orderPayment.value}`\n        }\n      }\n    }\n  })\n    .then(res => {\n      alert('訂單已送出')\n      cartProducts = [] // 送出訂單後清空購物車並再次渲染\n      renderCart(cartProducts)\n      orderForm.reset();\n    })\n    .catch(err => console.log(err))\n}\n\n\n// 表單驗證\nconst formValidation = () => {\n  const constraints = {\n    orderName: {\n      presence: {\n        message: '欄位必填'\n      }\n    },\n    orderTel: {\n      presence: {\n        message: '欄位必填'\n      },\n      format: {\n        pattern: /^[0-9]+$/,\n        message: '只能是數字 0-9'\n      }\n    },\n    orderEmail: {\n      presence: {\n        message: '此欄位必填'\n      },\n      format: {\n        pattern: /^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/,\n        message: 'Email 格式錯誤'\n      }\n    },\n    orderAddress: {\n      presence: {\n        message: '此欄位必填'\n      }\n    }\n  }\n\n  const inputList = document.querySelectorAll('#orderForm input[type=text]');\n\n  const idList = [];\n  inputList.forEach(i => idList.push(i.getAttribute('id')))\n  \n  const errorMessage = validate(orderForm, constraints)\n\n  idList.forEach(domId => {\n    document.querySelector(`#${domId}`).nextElementSibling.textContent = null;\n    // console.log(errorMessage)\n\n    // ! Object.entries/key/value 踩雷：（如果結果為 undefined、null，皆會回傳錯誤，解決方法可加入 {} 與原物件做比較，避免最終結果為空）\n    Object.entries(errorMessage || {}).forEach(i => {\n      if(domId === i[0]) {\n        document.querySelector(`#${domId}`).nextElementSibling.textContent = i[1];\n      }\n    })\n  })\n  return errorMessage;\n}","// 訂單取得\r\nconst getOrders = () => {\r\n\r\n  axios({\r\n    url: `${url}/admin/${path}/orders`,\r\n    headers: {\r\n      'Authorization': token\r\n    }\r\n  })\r\n    .then(res => {\r\n      renderChart(res.data.orders)\r\n      renderTable(res.data.orders)\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\ngetOrders()\r\n\r\n// 圖表渲染\r\nconst renderChart = (data) => {\r\n  const newData = {}\r\n\r\n  data.forEach(order => {\r\n    order.products.forEach(product => {\r\n\r\n      if(!newData[product['title']]) {\r\n        newData[product['title']] = product['quantity'];\r\n      }else {\r\n        newData[product['title']] += product['quantity'];\r\n      }\r\n    })\r\n  })\r\n\r\n  const chartData = Object.entries(newData)\r\n  settingChart(chartData)\r\n}\r\n\r\n// 表格渲染\r\nconst renderTable = (data) => {\r\n  const manageList = document.querySelector('#manageList');\r\n  let str = '';\r\n\r\n  data.forEach(i => {\r\n\r\n    const timeStamp = new Date(i['createdAt'] * 1000);\r\n    const createDate = `${timeStamp.getFullYear()}/${timeStamp.getMonth() + 1}/${timeStamp.getDate()}`;\r\n    const orderProducts = i['products'].map(item => `<p>${item['title']} x ${item['quantity']}</p>`).join(\"\");\r\n\r\n    let orderStatus = '';\r\n    if(!i['paid']) {\r\n      orderStatus = '未處理';\r\n    }else {\r\n      orderStatus = '已處理';\r\n    }\r\n\r\n    str += `\r\n    <tr>\r\n      <td>${i['id']}</td>\r\n      <td>${i['user']['name']}<br>${i['user']['tel']}</td>\r\n      <td>${i['user']['address']}</td>\r\n      <td>${i['user']['email']}</td>\r\n      <td>${orderProducts}</td>\r\n      <td>${createDate}</td>\r\n      <td class=\"text-center\">\r\n        <a href=\"#\" class=\"text-decoration-underline text-primary\" data-id=\"${i['id']}\" data-status=\"${i['paid']}\" onclick=\"switchStatus(event)\">${orderStatus}</a>\r\n      </td>\r\n      <td class=\"text-center\">\r\n        <a href=\"#\" class=\"btn btn-danger\" data-id=\"${i['id']}\" onclick=\"deleteOrder(event)\">刪除</a>\r\n      </td>\r\n    </tr>`\r\n  })\r\n  manageList.innerHTML = str;\r\n}\r\n\r\n// 圖表設定\r\nconst settingChart = (data) => {\r\n  const chart = c3.generate({\r\n    bindto: '#chart',\r\n    data: {\r\n      columns: data,\r\n      type: 'pie',\r\n    }\r\n  })\r\n}\r\n\r\n// 狀態切換\r\nconst switchStatus = (event) => {\r\n  event.preventDefault();\r\n\r\n  const orderId = event.target.dataset.id;\r\n  const orderStatus = event.target.dataset.status;\r\n\r\n  if(orderStatus === 'false') {\r\n    axios({\r\n      url: `${url}/admin/${path}/orders`,\r\n      method: 'put',\r\n      headers: {\r\n        'Authorization': token\r\n      },\r\n      data: {\r\n        \"data\": {\r\n          \"id\": orderId,\r\n          \"paid\": true\r\n        }\r\n      }\r\n    })\r\n      .then(res => {\r\n        renderChart(res.data.orders)\r\n        renderTable(res.data.orders)\r\n      })\r\n      .catch(err => console.log(err))\r\n  } else {\r\n    axios({\r\n      url: `${url}/admin/${path}/orders`,\r\n      method: 'put',\r\n      headers: {\r\n        'Authorization': token\r\n      },\r\n      data: {\r\n        \"data\": {\r\n          \"id\": orderId,\r\n          \"paid\": false\r\n        }\r\n      }\r\n    })\r\n      .then(res => {\r\n        renderChart(res.data.orders)\r\n        renderTable(res.data.orders)\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\n// 刪除指定訂單\r\nconst deleteOrder = (event) => {\r\n  event.preventDefault();\r\n\r\n  const deleteId = event.target.dataset.id;\r\n\r\n  axios({\r\n    url: `${url}/admin/${path}/orders/${deleteId}`,\r\n    method: 'delete',\r\n    headers: {\r\n      'Authorization': token\r\n    }\r\n  })\r\n    .then(res => {\r\n      alert('已刪除該筆訂單')\r\n      renderChart(res.data.orders)\r\n      renderTable(res.data.orders)\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n// 清除全部訂單\r\nconst deleteAllOrders = (event) => {\r\n  event.preventDefault()\r\n\r\n  axios({\r\n    url: `${url}/admin/${path}/orders`,\r\n    method: 'delete',\r\n    headers: {\r\n      'Authorization': token\r\n    }\r\n  })\r\n    .then(res => {\r\n      alert(res.data.message)\r\n      renderChart(res.data.orders)\r\n      renderTable(res.data.orders)\r\n    })\r\n    .catch(err => console.log(err))\r\n}","const swiper = new Swiper(\".mySwiper\", {\r\n  spaceBetween: 30,\r\n  breakpoints: {\r\n    768: {\r\n      slidesPerView: 2\r\n    },\r\n    1200: {\r\n      slidesPerView: 3\r\n    },\r\n  }\r\n});"]}